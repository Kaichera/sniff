---
title: Schema Reference
description: Complete technical specification of all configuration fields
---

<Note>
  This page provides the complete technical specification of all configuration fields. For
  explanations and best practices, see the [Configuration](/configuration) guide.
</Note>

## Root Configuration

| Field     | Type    | Required | Description                        |
| --------- | ------- | -------- | ---------------------------------- |
| `version` | `"1.0"` | Yes      | Schema version                     |
| `agents`  | `array` | Yes      | Array of agent definitions (min 1) |

## agents[]

Each agent in the array has these fields:

| Field           | Type     | Required | Constraints                           |
| --------------- | -------- | -------- | ------------------------------------- |
| `id`            | `string` | Yes      | Pattern: `^[a-z0-9-]+$`, Length: 1-50 |
| `name`          | `string` | Yes      | Length: 1-100                         |
| `description`   | `string` | No       | Max length: 500                       |
| `system_prompt` | `string` | Yes      | Length: 1-50000                       |
| `model`         | `object` | Yes      | Model configuration                   |

## agents[].model

| Field       | Type     | Required |
| ----------- | -------- | -------- |
| `anthropic` | `object` | Yes      |

## agents[].model.anthropic

| Field            | Type       | Required | Constraints  | Default                    |
| ---------------- | ---------- | -------- | ------------ | -------------------------- |
| `name`           | `string`   | No       | -            | `claude-sonnet-4-20250514` |
| `temperature`    | `number`   | No       | 0 - 1        | `1.0`                      |
| `max_tokens`     | `integer`  | No       | 1 - 8192     | `4096`                     |
| `top_p`          | `number`   | No       | 0 - 1        | -                          |
| `top_k`          | `integer`  | No       | >= 0         | -                          |
| `stop_sequences` | `string[]` | No       | Max 10 items | -                          |
| `thinking`       | `object`   | No       | -            | -                          |
| `metadata`       | `object`   | No       | -            | -                          |
| `tool_choice`    | `object`   | No       | -            | -                          |
| `tools`          | `array`    | No       | -            | -                          |
| `mcp_servers`    | `array`    | No       | -            | -                          |

## thinking

Union type with 2 variants:

**`enabled` variant:**

| Field           | Type        | Required | Constraints |
| --------------- | ----------- | -------- | ----------- |
| `type`          | `"enabled"` | Yes      | -           |
| `budget_tokens` | `integer`   | Yes      | >= 1024     |

**`disabled` variant:**

| Field  | Type         | Required |
| ------ | ------------ | -------- |
| `type` | `"disabled"` | Yes      |

## metadata

| Field     | Type     | Required | Constraints     |
| --------- | -------- | -------- | --------------- |
| `user_id` | `string` | No       | Max length: 256 |

## tool_choice

Union type with 4 variants:

**`auto` variant:**

| Field                       | Type      | Required |
| --------------------------- | --------- | -------- |
| `type`                      | `"auto"`  | Yes      |
| `disable_parallel_tool_use` | `boolean` | No       |

**`any` variant:**

| Field                       | Type      | Required |
| --------------------------- | --------- | -------- |
| `type`                      | `"any"`   | Yes      |
| `disable_parallel_tool_use` | `boolean` | No       |

**`tool` variant:**

| Field                       | Type      | Required |
| --------------------------- | --------- | -------- |
| `type`                      | `"tool"`  | Yes      |
| `name`                      | `string`  | Yes      |
| `disable_parallel_tool_use` | `boolean` | No       |

**`none` variant:**

| Field  | Type     | Required |
| ------ | -------- | -------- |
| `type` | `"none"` | Yes      |

## tools[]

Array items must be one of:

### web_search_20250305

| Field             | Type                    | Required | Constraints |
| ----------------- | ----------------------- | -------- | ----------- |
| `type`            | `"web_search_20250305"` | Yes      | -           |
| `name`            | `"web_search"`          | Yes      | -           |
| `max_uses`        | `integer`               | No       | >= 1        |
| `allowed_domains` | `string[]`              | No       | -           |
| `blocked_domains` | `string[]`              | No       | -           |
| `user_location`   | `object`                | No       | -           |

**user_location:**

| Field      | Type            | Required |
| ---------- | --------------- | -------- |
| `type`     | `"approximate"` | Yes      |
| `city`     | `string`        | No       |
| `region`   | `string`        | No       |
| `country`  | `string`        | No       |
| `timezone` | `string`        | No       |

### web_fetch_20250910

| Field                | Type                   | Required | Constraints |
| -------------------- | ---------------------- | -------- | ----------- |
| `type`               | `"web_fetch_20250910"` | Yes      | -           |
| `name`               | `"web_fetch"`          | Yes      | -           |
| `max_uses`           | `integer`              | No       | >= 1        |
| `allowed_domains`    | `string[]`             | No       | -           |
| `blocked_domains`    | `string[]`             | No       | -           |
| `citations`          | `object`               | No       | -           |
| `max_content_tokens` | `integer`              | No       | >= 1        |

**citations:**

| Field     | Type      | Required |
| --------- | --------- | -------- |
| `enabled` | `boolean` | Yes      |

## mcp_servers[]

| Field                 | Type     | Required | Constraints   |
| --------------------- | -------- | -------- | ------------- |
| `type`                | `"url"`  | Yes      | -             |
| `url`                 | `string` | Yes      | Format: uri   |
| `name`                | `string` | Yes      | Length: 1-100 |
| `authorization_token` | `string` | No       | -             |
| `tool_configuration`  | `object` | No       | -             |

**tool_configuration:**

| Field            | Type       | Required |
| ---------------- | ---------- | -------- |
| `enabled`        | `boolean`  | No       |
| `allowed_tools`  | `string[]` | No       |
| `disabled_tools` | `string[]` | No       |

## Supported Models

| Model                       | web_search | web_fetch | thinking | mcp |
| --------------------------- | ---------- | --------- | -------- | --- |
| `claude-sonnet-4-20250514`  | Yes        | Yes       | Yes      | Yes |
| `claude-haiku-4-5-20251001` | Yes        | Yes       | No       | Yes |
| `claude-opus-4-20250514`    | Yes        | Yes       | Yes      | Yes |

## Validation Rules

1. **Thinking temperature constraint**
   When `thinking.type` is `"enabled"`, `temperature` must be exactly `1.0`.

2. **Thinking token budget**
   When thinking is enabled, `max_tokens` must be greater than `thinking.budget_tokens`.

3. **Strict mode**
   All objects use `additionalProperties: false` - no extra fields allowed.

## JSON Schema

The full JSON Schema is available at:

- [`config.schema.json`](https://github.com/sniff-dev/sniff/blob/main/config.schema.json)
